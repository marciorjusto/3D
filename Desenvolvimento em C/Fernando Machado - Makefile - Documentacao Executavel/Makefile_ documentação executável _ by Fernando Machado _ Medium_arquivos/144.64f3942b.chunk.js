"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[144],{79320:(e,t,n)=>{n.d(t,{A:()=>a});var r,o=n(96540);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const a=function(e){return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{fill:"#242424",fillRule:"evenodd",d:"M12.333 16.993a7.4 7.4 0 0 1-1.686-.12 7.25 7.25 0 1 1 8.047-4.334v.001a7.2 7.2 0 0 1-.632 1.188 7.26 7.26 0 0 1-4.708 3.146l-.07.013q-.466.083-.951.105m.356.979a8.4 8.4 0 0 1-1.377 0l-2.075 5.7a.375.375 0 0 1-.625.13l-2.465-2.604-3.563.41a.375.375 0 0 1-.395-.501l2.645-7.267a8.25 8.25 0 1 1 14.333 0l2.645 7.267a.375.375 0 0 1-.396.5l-3.562-.41-2.465 2.604a.375.375 0 0 1-.625-.13zm5.786-3.109a8.25 8.25 0 0 1-4.775 2.962l1.658 4.554 1.77-1.87.344-.362.496.057 2.558.294zm-12.95 0L3.476 20.5l2.557-.295.497-.057.344.363 1.77 1.87 1.658-4.555a8.25 8.25 0 0 1-4.775-2.961",clipRule:"evenodd"})))}},81878:(e,t,n)=>{n.d(t,{A:()=>a});var r,o=n(96540);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const a=function(e){return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{d:"M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"})))}},52705:(e,t,n)=>{n.d(t,{N:()=>h});var r=n(96540),o=n(28263),l=n(70426),a=n(32996),i=n(42976),s=n(39160),c=n(46879),d=n(64272),u=n(80296),m=n(21800),p=n(48088),f=n(21335),g=n(91830),V=function(e){var t=e.user,n=e.newsletterV3,o=(0,f.cd)(t.id),l=o.viewerEdge,a=o.loading,i=t.id,s=t.name||"this writer",c=!(null==l||!l.isFollowing),d=(0,g.zF)(),V=(0,r.useState)(!0),h=(0,u.A)(V,2),b=h[0],E=h[1],v=(0,r.useCallback)((function(){d({message:"Success! You're now following ".concat(s,".")})}),[d,s]),x=(0,r.useCallback)((function(){d({message:"You unfollowed ".concat(s,".")})}),[d,s]),w=(0,r.useCallback)((function(){d({message:"Confirmed! You'll now receive email notifications from ".concat(s,".")})}),[d,s]),y=(0,r.useCallback)((function(){d({message:"You've unsubscribed to email notifications from ".concat(s,".")})}),[d,s]),k=(0,p.h)({newsletterV3:n,creator:t,newsletterName:t.name||void 0}),A=k.isSubscribed,S=k.hasError,I=k.setSubscribe,T=k.loading,C=(0,m.g)({userId:i,userName:t.name,hideConfirmationToast:{unfollowUser:!0}}).unfollowUser;(0,r.useEffect)((function(){S&&d({toastStyle:"RETRYABLE_ERROR"})}),[S,d]),(0,r.useEffect)((function(){E(!(!T&&!a))}),[T,a]);var R=(0,r.useCallback)((function(){I(!0,!1,w)}),[w,I]),L=(0,r.useCallback)((function(){I(!1,!1,y)}),[y,I]),B=(0,r.useCallback)((function(){c||I(!0,!1,v)}),[c,v,I]),P=(0,r.useCallback)((function(){C(),I(!1,!1,x)}),[C,x,I]);return{isFollowing:c,isSubscribed:A,isDisabled:b,onFollowAndSubscribeUser:B,onUnsubscribeUser:L,onUnfollowAndUnsubscribeUser:P,onSubscribeUser:R}};function h(e){var t=e.scale,n=e.susiEntry,u=e.post,m=e.user,p=e.showSubscribeTooltip,f=(0,o.C)().openModal,g=(0,s.d4)((function(e){return e.config.authDomain})),h=V({user:m,newsletterV3:m.newsletterV3||void 0}),b=h.isFollowing,E=h.isSubscribed,v=h.isDisabled,x=h.onFollowAndSubscribeUser,w=h.onUnsubscribeUser,y=h.onUnfollowAndUnsubscribeUser,k=h.onSubscribeUser,A=(0,r.useCallback)((function(){f({operation:"register",susiEntry:n,step:"SIGNUP_OPTIONS",actionUrl:u?(0,c.OHd)(g,m.id,u.id):(0,c._6D)(g,m.id),post:u,user:m})}),[f,n,m,u,g]),S=(0,l.i)(i.bT.WRITER_EMAIL_NOTIFICATION_TOOLTIP),I=S.isDismissed,T=S.dismiss,C=!!p&&!v&&!I&&b&&!E;return r.createElement(a.A,{isVisible:C,message:"Receive email notifications from ".concat(m.name?m.name:"this writer","."),dismiss:T,boxProps:{maxWidth:"164px"}},r.createElement(d.s,{scale:t,onClick:x,openSusiModal:A,isDisabled:v,isFollowing:b,isSubscribed:E,onSubscribe:k,onUnsubscribe:w,onUnfollow:y,showSubscribeSettings:!0,isTooltipVisible:C,dismissTooltip:T}))}},64272:(e,t,n)=>{n.d(t,{s:()=>B});var r,o=n(80296),l=n(96540),a=n(27721),i=n(14782),s=n(52290),c=n(24960),d=n(36557),u=n(59393),m=n(44402),p=n(44427);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}const g=function(e){return l.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=l.createElement("g",{id:"Notifications",stroke:"#242424",strokeLinecap:"round"},l.createElement("path",{id:"Ellipse 59",d:"M15 18.5a3 3 0 1 1-6 0"}),l.createElement("path",{id:"Vector 119",strokeLinejoin:"round",d:"M15.466 3.5A6.5 6.5 0 0 0 5.5 9v1.532c0 1.42-.564 2.782-1.568 3.786l-.032.032c-.256.256-.4.604-.4.966v2.934c0 .138.112.25.25.25h16.5a.25.25 0 0 0 .25-.25v-2.934c0-.363-.144-.71-.4-.966l-.032-.032A5.36 5.36 0 0 1 18.705 12"}),l.createElement("path",{id:"Vector 120",strokeLinejoin:"round",d:"M15 7.5h6"}))))};var V;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}const b=function(e){return l.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),V||(V=l.createElement("g",{id:"Pause Notifications",stroke:"#C94A4A"},l.createElement("path",{id:"Ellipse 59",strokeLinecap:"round",d:"M15 18.5a3 3 0 1 1-6 0"}),l.createElement("path",{id:"Vector 13",strokeLinejoin:"round",d:"M17.93 6.332a6.46 6.46 0 0 1 .57 2.667v1.532c0 1.42.564 2.782 1.568 3.786l.032.032c.256.256.4.603.4.966v2.934a.25.25 0 0 1-.25.25H5.5"}),l.createElement("path",{id:"Vector 113",strokeLinecap:"round",strokeLinejoin:"round",d:"M16.154 4A6.5 6.5 0 0 0 5.5 9v1.532c0 1.42-.564 2.782-1.568 3.786l-.032.032c-.256.256-.4.604-.4.966V17.5"}),l.createElement("path",{id:"Vector 112",strokeLinecap:"round",d:"M21 3 3 21"}))))};var E;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(null,arguments)}const x=function(e){return l.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),E||(E=l.createElement("g",{id:"Notifications",stroke:"#6B6B6B",strokeLinecap:"round"},l.createElement("path",{id:"Ellipse 59",d:"M15 18.5a3 3 0 1 1-6 0"}),l.createElement("path",{id:"Vector 119",strokeLinejoin:"round",d:"M19.103 13c.25.482.574.927.965 1.318l.032.032c.256.256.4.604.4.966v2.934a.25.25 0 0 1-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.934c0-.363.144-.71.4-.966l.032-.032A5.35 5.35 0 0 0 5.5 10.532V9a6.5 6.5 0 0 1 9.004-6"}),l.createElement("path",{id:"Vector 120",strokeLinejoin:"round",d:"M16.5 6.5h6"}),l.createElement("path",{id:"Vector 121",strokeLinejoin:"round",d:"M19.5 9.5v-6"}))))};var w=n(94576),y=n(60603),k=function(e){return{transition:"width 0.3s ease-in-out",background:0,"& path":{stroke:e.colorTokens.foreground.neutral.primary.base},cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center","&:disabled":{cursor:"not-allowed",opacity:"0.3"}}},A=function(e,t,n){return"S"===e?{borderRadius:"24px",width:t?n?"102px":"86px":"66px",padding:t&&n?"6px 8px 6px 12px":"6px 12px 6px 12px"}:"M"===e?{borderRadius:"19px",width:t?n?"110px":"94px":"74px",padding:t&&n?"9px 12px 9px 16px":"9px 16px 9px 16px"}:void 0},S=function(e){return{border:"1px solid ".concat(e.colorTokens.border.neutral.secondary.base)}},I=function(e){return{border:"1px solid ".concat(e.colorTokens.border.neutral.tertiary.base),"&:hover:not(:disabled)":{borderColor:e.colorTokens.border.neutral.secondary.base}}},T=function(e,t){return function(n){return"RED"===t?{color:n.colorTokens.foreground.error.primary.base,"& g":{stroke:n.colorTokens.foreground.error.primary.base},"& path":{stroke:n.colorTokens.foreground.error.primary.base}}:e?{color:n.colorTokens.foreground.neutral.primary.base,"& g":{stroke:n.colorTokens.foreground.neutral.primary.base},"& path":{stroke:n.colorTokens.foreground.neutral.primary.base}}:{color:n.colorTokens.foreground.neutral.secondary.base,"& g":{stroke:n.colorTokens.foreground.neutral.secondary.base},"& path":{stroke:n.colorTokens.foreground.neutral.secondary.base},"&:hover":{color:n.colorTokens.foreground.neutral.primary.base,"& g":{stroke:n.colorTokens.foreground.neutral.primary.base},"& path":{stroke:n.colorTokens.foreground.neutral.primary.base}}}}},C=function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"12px",padding:"16px 24px",margin:0,cursor:e?"not-allowed":"pointer",border:0}};function R(e){var t=e.onClick,n=e.color,r=e.isSelected,o=e.Icon,a=e.label,c=(0,m.l)(),d=(0,u.Z)({name:"detail",scale:"M",color:"DARKER"});return l.createElement(i.q3,{paddingLeftRight:"0",paddingTopBottom:"0"},l.createElement("button",{onClick:r?void 0:t,className:c([d,C(r),T(r,n)])},l.createElement(s.a,{display:"flex",alignItems:"center",gap:"12px",tag:"span"},l.createElement(o,null),a),r&&l.createElement(w.A,{width:"16px",height:"16px"})))}function L(e){var t=e.isFollowing,n=e.scale,r=e.onClick,o=e.isDisabled,a=e.showArrow,i=void 0===a||a,c=(0,m.l)();return l.createElement("button",{className:c([k,A(n,t,i),t?I:S]),onClick:r,disabled:o},l.createElement(d.kZ,{scale:"M",color:"DARKER",tag:"span"},t?l.createElement(s.a,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"4px",wordBreak:"keep-all",tag:"span"},"Following ",i&&l.createElement(p.A,{width:"16px",height:"16px"})):l.createElement(s.a,{wordBreak:"keep-all",tag:"span"},"Follow")))}function B(e){var t=e.onSubscribe,n=e.onUnsubscribe,r=e.onUnfollow,d=e.isFollowing,u=e.isSubscribed,m=e.scale,p=e.openSusiModal,f=e.showSubscribeSettings,V=e.onClick,h=e.isDisabled,E=e.isTooltipVisible,v=e.dismissTooltip,w=(0,a.R)(),k=w.value,A=w.loading,S=h||A,I=(0,y.e)(!1),T=(0,o.A)(I,3),C=T[0],B=T[1],P=T[2];(0,l.useEffect)((function(){C&&E&&(null==v||v())}),[C,E,v]);var O=(0,l.useCallback)((function(){V(),B()}),[B,V]),N=(0,l.useCallback)((function(){t(),P()}),[P,t]),M=(0,l.useCallback)((function(){n(),P()}),[P,n]),D=(0,l.useCallback)((function(){r(),P()}),[P,r]),F=(0,l.useCallback)((function(){return l.createElement(i.Ni,{width:"272px",padding:"0"},l.createElement(R,{onClick:N,isSelected:d&&u,Icon:x,label:"Email notifications on"}),l.createElement(i.eS,{paddingTopBottom:"0"}),l.createElement(R,{onClick:M,isSelected:d&&!u,Icon:g,label:"Email notifications off"}),l.createElement(i.eS,{paddingTopBottom:"0"}),l.createElement(R,{onClick:D,color:"RED",Icon:b,label:"Unfollow"}))}),[d,u]);return k?f?l.createElement(c.A,{isVisible:C,targetDistance:8,hide:P,popoverRenderFn:function(){return F()},noArrow:!0},l.createElement(L,{isFollowing:d,scale:m,onClick:O,isDisabled:S})):l.createElement(L,{isFollowing:d,scale:m,onClick:V,isDisabled:S,showArrow:!1}):l.createElement(s.a,{display:"inline-block"},l.createElement(L,{scale:m,onClick:p}))}},15088:(e,t,n)=>{n.d(t,{h:()=>T,s:()=>A});var r=n(50014),o=n.n(r),l=n(6638),a=n.n(l),i=n(96540),s=n(29977),c=n(7580),d=n(45993),u=n(52290),m=n(86975),p=n(41299),f=n(5600),g=n(44402),V=n(42600),h=n(21202),b=n(18599),E=n(60213),v=n(64122),x=function(e){var t=e.diameter,n=e.zIndex,r=e.showBorder,o=e.borderColor;return function(e){return{display:"block",width:"".concat(r?t+4:t,"px"),height:"".concat(r?t+4:t,"px"),borderRadius:"50%",border:r?"".concat(2,"px solid ").concat(null!=o?o:e.backgroundColor):"none",zIndex:n}}},w=function(e){return{background:e.colorTokens.background.neutral.secondary.base,border:"2px solid white",borderRadius:"50%",width:"36px",height:"36px"}},y=function(e,t){return{display:"grid",alignItems:"end",gridTemplateColumns:"repeat(".concat(t,", ").concat(e.toPrecision(3),"%)")}},k=function(e){var t=e.numUsers,n=e.diameter,r=e.withAnimation,o=e.children,l=(0,g.l)(),a=(0,h.L)(),s=n*t,c=100/(t+1),d=t>1?(t>1?(n+4)*t:n)*(1-c/100):n,m=r?[y(c,t),function(){return a}]:y(c,t);return i.createElement(u.a,{width:"".concat(d,"px")},i.createElement(u.a,{width:"".concat(s,"px")},i.createElement("div",{className:l(m)},o)))},A=function(e){var t=e.maxNumEntities,n=void 0===t?12:t,r=e.entities,l=e.error,a=e.loading,s=e.entityElementKey,c=e.showNextAvatarOnTop,d=void 0!==c&&c,u=e.diameter,m=void 0===u?36:u,p=e.noBackgroundShadow,f=Math.min(r.length,n),g=i.useMemo((function(){return o()(r,(function(e){return e.id})).slice(0,f)}),[r,f]);return(f=g.length)?l?null:a?i.createElement(I,{numUsers:f,diamereter:m,entityElementKey:s,withAnimation:!0}):i.createElement(k,{numUsers:f,diameter:m},g.map((function(e,t){var n,o,l=d?t:r.length-t;if("Collection"===e.__typename)n=null===(o=e.avatar)||void 0===o?void 0:o.id;else if("User"===e.__typename)n=e.imageId;else if("NewsletterV3"===e.__typename){var a,c,u;n=e.collection?e.avatarImageId||(null===(a=e.collection)||void 0===a||null===(c=a.avatar)||void 0===c?void 0:c.id):null===(u=e.user)||void 0===u?void 0:u.imageId}return i.createElement(S,{key:"".concat(s,"-").concat(e.id),diameter:m,zIndex:l,showBorder:g.length>1,miroId:n,entityName:e.name,noBackgroundShadow:p})}))):null},S=function(e){var t=e.diameter,n=e.zIndex,r=e.showBorder,o=e.miroId,l=e.entityName,a=e.noBackgroundShadow,s=void 0===a||a,d=e.showAvatarBorder,u=void 0!==d&&d,m=e.showHoverState,p=void 0!==m&&m,f=e.borderColor,h=e.testId,b=(0,g.l)();return i.createElement("div",{className:b(x({diameter:t,zIndex:n,showBorder:r,borderColor:f}))},i.createElement(c.r,{miroId:o||V._3,alt:l||"",diameter:t,freezeGifs:!0,noBackgroundShadow:s,showBorder:u,showHoverState:p,testId:h}))},I=function(e){var t=e.numUsers,n=e.diamereter,r=e.withAnimation,o=e.entityElementKey,l=(0,g.l)();return i.createElement(k,{numUsers:t,diameter:n,withAnimation:r},a()(t,(function(e){return i.createElement(u.a,{key:"".concat(o,"-placeholder-").concat(e),zIndex:t-e},i.createElement("div",{className:l(w)}))})))},T=function(e){var t,n=e.author,r=e.collection,o=e.authorSize,l=e.collectionImageSize,a=e.collectionOffset,c=e.borderColor,g=e.withAuthorTooltip,V=e.authorTestId,h=e.collectionTestId,x=null!=o?o:44,w=null!=l?l:24,y=(0,E.u)(),k=(0,v.W)();if(!n)return null;var A=i.createElement(m.D,{href:k(n)},i.createElement(S,{diameter:x,zIndex:0,showBorder:!0,miroId:n.imageId,entityName:n.name,noBackgroundShadow:!0,showAvatarBorder:!0,showHoverState:!0,borderColor:c,testId:V})),I=r&&i.createElement(m.D,{href:y(r)},i.createElement(S,{diameter:w,zIndex:1,showBorder:!0,miroId:null===(t=r.avatar)||void 0===t?void 0:t.id,entityName:r.name,noBackgroundShadow:!0,showAvatarBorder:!0,showHoverState:!0,borderColor:c,testId:h}));return i.createElement(u.a,{display:"flex",alignItems:"baseline"},g?i.createElement(p.R,{placement:"bottom",targetDistance:s.f,mouseLeaveDelay:100,mouseEnterDelay:f.A,noArrow:!0,popoverRenderFn:function(){return function(e){return i.createElement(d.J,{user:e})}(n)},role:"tooltip"},A):A,r&&i.createElement(u.a,{display:"flex",marginLeft:null!=a?a:"-12px",position:"relative"},i.createElement(p.R,{placement:"bottom",targetDistance:b.r,mouseLeaveDelay:100,mouseEnterDelay:f.A,noArrow:!0,popoverRenderFn:function(){return function(e){return i.createElement(b.a,{collection:e})}(r)},role:"tooltip"},I)))}},40340:(e,t,n)=>{n.d(t,{J:()=>s});var r=n(96540),o=n(52290),l=n(36557),a=n(44402),i=function(e){return function(t){return{position:"absolute",clip:"rect(0px 14px 14px -3px)",":after":{content:"''",display:"block",width:"11px",height:"11px",background:null!=e?e:t.colorTokens.background.neutral.secondary.base,borderBottomRightRadius:"1px",transform:"rotate(45deg) translate(-4px, -4px)"}}}},s=function(e){var t=e.children,n=e.padding,s=void 0===n?{xs:"16px",sm:"16px",md:"16px",lg:"16px 24px",xl:"16px 24px"}:n,c=e.borderRadius,d=void 0===c?"8px":c,u=e.backgroundColor,m=e.shouldShowArrowDown,p=void 0!==m&&m,f=(0,a.l)();return r.createElement(r.Fragment,null,r.createElement("div",{className:f((function(e){return{position:"relative",padding:s,borderRadius:d,background:null!=u?u:e.colorTokens.background.neutral.secondary.base}}))},r.createElement(l.kZ,{scale:"M",color:"DARKER"},t)),p&&r.createElement(o.a,{marginLeft:{xs:"18px",sm:"18px",md:"26px",lg:"26px",xl:"26px"}},r.createElement("div",{className:f(i(u))})))}},37763:(e,t,n)=>{n.d(t,{D:()=>lt});var r,o=n(96540),l=n(70370),a=n(27721),i=n(79197),s=n(87509),c=n(44402),d=n(50684),u=n(64122),m=n(86527),p=n(51260),f=n(42976),g=n(46879),V=n(94644),h=n(40340),b=function(e){var t=e.children;return o.createElement(h.J,{padding:{xs:"16px",sm:"16px",md:"16px",lg:"16px 24px",xl:"16px 24px"},shouldShowArrowDown:!0},t)},E=n(43634),v=n(30572),x=n(49287),w=n(71836),y=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";default:return"smart_meter"}},k=function(e){var t=e.children,n=e.isLoggedIn,r=e.post,l=e.numFreeStoriesRemaining,a=void 0===l?0:l,i=e.susiEntry,s=e.dimension,c=void 0===s?"post_counter":s,d=e.inline,u=e.linkStyle,m=e.tag,f=e.source,g=void 0===f?"upgrade_membership":f,V=e.href,h=(0,p.au)(),b=r.id;return n?o.createElement(w.C,{source:g,dimension:c,sourceProviderData:{postId:b},eventData:{postId:b},tag:m},o.createElement(v.a,{post:r,redirectUrl:null!=V?V:h("ShowPay",{}),inline:d,linkStyle:u},t)):o.createElement(x.Ne,{source:{postId:r.id}},o.createElement(E.r,{operation:"register",susiEntry:i||y(a),inline:d,linkStyle:u},t))},A=function(e){var t=e.user,n=(0,u.f)(t);return o.createElement(o.Fragment,null,o.createElement(m.N,{href:n,linkStyle:"OBVIOUS",inline:!0},(0,V.PK)(t.name))," ","Friend Link.")},S=function(){var e=(0,g.ZZI)();return o.createElement(m.N,{href:e,linkStyle:"OBVIOUS",inline:!0},"Learn more")},I=function(e){var t,n,r,l=e.post,a=e.viewer,i=null!==(t=l.content.shareKeyCreator)&&void 0!==t?t:l.creator,s=null==a?void 0:a.id,c=(0,p.au)();return l.content.validatedShareKey?(null===(n=l.creator)||void 0===n?void 0:n.id)===s||(null==i?void 0:i.id)===s?o.createElement(o.Fragment,null,"You're reading via your own Friend Link. ",o.createElement(S,null)):o.createElement(o.Fragment,null,"You're reading ",null!=a&&a.membership?null:"for free"," via"," ",i&&i.name?o.createElement(A,{user:i}):"a Friend Link."," ",(null==a||null===(r=a.membership)||void 0===r?void 0:r.tier)===f.T3.FRIEND?o.createElement(S,null):o.createElement(o.Fragment,null,o.createElement(k,{post:l,isLoggedIn:!!a,source:"friend_link",susiEntry:"post_friend_link_meter",dimension:"post_friend_link_meter",tag:"span",linkStyle:"OBVIOUS",href:c("ShowManageMembershipPage",{}),inline:!0},a?"Upgrade":"Become a member")," ","to access the best of Medium.")):o.createElement(o.Fragment,null,"You're unable to read via this Friend Link since it's expired. ",o.createElement(S,null))},T=function(e){return o.createElement(b,null,o.createElement(I,e))},C=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},R=function(e){var t=e.post,n=(0,c.l)();return o.createElement(k,{isLoggedIn:!0,post:t,numFreeStoriesRemaining:0},o.createElement(b,null,o.createElement("strong",{className:n(C)},"This member-only story is on us.")," ",o.createElement(o.Fragment,null,o.createElement("span",{className:n({textDecoration:"underline"})},"Upgrade")," to access all of Medium.")))},L=function(e){var t=e.post,n=(0,s.$L)(),r=(0,d.WZ)(),l=(0,a.R)(),c=l.loading,u=l.error,m=l.value,p=!!m;return(0,o.useEffect)((function(){c||u||n.event("meter.viewed",{uiType:p?i.H.LIHighlightCTA:i.H.LOHighlightCTA,postId:t.id,meterCount:0})}),[c,u,p]),c||u?null:r?o.createElement(T,{post:t,viewer:m}):p?o.createElement(R,{post:t}):null},B=n(42126),P=n(75599),O=n(79429),N=n(79320),M=n(28899),D=n(52290),F=n(86975),_=n(27622),U=n(56942),j=n(36557),z=function(e){var t=e.post,n=t.id,r=t.collection,l=(0,s.$L)(),a=(0,x.jI)(),i=(0,p.om)()("ShowCollectionHome",{collectionSlug:(null==r?void 0:r.slug)||""});return(0,o.useEffect)((function(){r&&l.event("post.featuredLabelInformation.viewed",{source:a,postId:n,collectionId:r.id})}),[l,a,n,null==r?void 0:r.id]),r?o.createElement(x.Ne,{extendSource:!0,source:{name:"featured_post_info_popover"}},o.createElement(D.a,{maxWidth:"240px",padding:"24px"},o.createElement(D.a,{display:"flex",marginBottom:"16px"},o.createElement(M.u,{collection:r,size:40,showBorder:!0,link:!0}),o.createElement(D.a,{marginLeft:"16px"},o.createElement(_.Pd,{scale:"S"},"Featured by"),o.createElement(F.D,{href:i},o.createElement(U.DZ,{scale:"XS",clamp:3},r.name)))),o.createElement(j.kZ,{scale:"M"},"Featured stories are selected by publication editors."))):null},H=n(41299),W=n(5600),Z=function(e){return{display:"inline-flex",alignItems:"center",padding:"6px 12px 6px 10px",border:"1px solid ".concat(e.colorTokens.border.neutral.primary.base),borderRadius:"8px",gap:"8px",cursor:"pointer"}},G=(0,o.forwardRef)((function(e,t){var n=e.icon,r=e.label,l=e.popover,a=(0,c.l)();return o.createElement(H.R,{placement:"bottom",targetDistance:10,popoverRenderFn:l,mouseLeaveDelay:100,mouseEnterDelay:W.A},o.createElement("div",{className:a(Z),ref:t},n,o.createElement(j.kZ,{scale:"M"},r)))})),K=function(e){return{"& path":{fill:e.colorTokens.border.neutral.secondary.base}}},Y=function(e){var t=e.post,n=t.id,r=t.creator,l=t.isFeaturedInPublishedPublication,a=t.collection,i=(0,c.l)(),d=(0,s.$L)(),u=(0,x.jI)(),m=(0,O.s)({onPresentedFn:function(){d.event("post.featuredLabel.presented",{postId:n,collectionId:null==a?void 0:a.id,source:u})}}),p=null==r?void 0:r.id,f=(0,o.useCallback)((function(){return o.createElement(z,{post:t})}),[p]);return l?o.createElement(G,{ref:m,icon:o.createElement(N.A,{className:i(K),width:"16px",height:"16px"}),label:"Featured",popover:f}):null},Q=n(44964),J=n(99731),X=n(21835),$=function(e){var t=e.post,n=t.id,r=t.creator,l=t.isLocked,a=null==r?void 0:r.id,i=(0,s.$L)(),c=(0,x.jI)(),d=(0,O.s)({onPresentedFn:function(){i.event("post.mocLabel.presented",{postId:n,source:c})}}),u=(0,o.useCallback)((function(){return o.createElement(q,{creatorId:a,postId:n})}),[a,n]);return l?o.createElement(G,{ref:d,icon:o.createElement(X.A,{width:"16px",height:"16px"}),label:"Member-only story",popover:u}):null},q=function(e){var t,n=e.creatorId,r=e.postId,l=(0,a.R)().value,i=(0,s.$L)(),c=(0,x.jI)(),d=(0,p.Nw)("ShowPay",{}),u=(0,p.Nw)("ShowSubscriptionsLanding",{});(0,o.useEffect)((function(){i.event("post.mocLabelInformation.viewed",{source:c,postId:r})}),[i,c,r]);var f=(null==l?void 0:l.id)===n,g=!(null==l||!l.membership),V=(0,o.useMemo)((function(){return f?"This story is only viewable by Medium Members. It is behind the paywall and is eligible to earn money.":g?"You’re currently a Medium Member and have been since ".concat((0,Q.A)(l.membership.memberSince,"LLL yyyy"),"."):"Become a Medium member to enjoy unlimited access and directly support the writers you read most."}),[f,g,null==l||null===(t=l.membership)||void 0===t?void 0:t.memberSince]);return o.createElement(x.Ne,{extendSource:!0,source:{name:"moc_star_popover"}},o.createElement(D.a,{maxWidth:"240px",padding:"24px"},o.createElement(D.a,{marginBottom:"16px"},o.createElement(U.DZ,{scale:"XS"},"Member-only story")),o.createElement(j.kZ,{scale:"M"},V),(f||!g)&&o.createElement(D.a,{textAlign:"center",paddingTop:"16px"},!f&&o.createElement(o.Fragment,null,l?o.createElement(J.$n,{buttonStyle:"STRONG",href:d,width:"100%"},"Get unlimited access"):o.createElement(E.r,{isButton:!0,buttonStyle:"STRONG",buttonWidth:"100%",operation:"login",susiEntry:"moc_star_popover",redirectTo:d},"Get unlimited access"),o.createElement(D.a,{paddingTop:"16px"})),o.createElement(j.kZ,{scale:"M"},o.createElement(m.N,{linkStyle:"OBVIOUS",href:u,target:"_blank"},"Learn more")))))},ee=n(15088),te=n(79480),ne=n(28072),re=n(27715),oe=n(49728),le=n(19033),ae=n(74378),ie=n(57975),se=n(80296),ce=n(53259),de=n.n(ce),ue=n(2680),me=n(75636),pe=n(31905),fe=n(61221),ge=n(79959),Ve=function(e){var t=e.postId,n=(0,a.R)().value,r="post_audio_button",l=(0,ge.ST)((0,p.Nw)("ShowPay",{}),{dimension:r,postId:t});return n?o.createElement(w.C,{source:"upgrade_membership",dimension:r},o.createElement(v.a,{redirectUrl:l},o.createElement(fe.H,null))):o.createElement(E.r,{operation:"register",susiEntry:r,actionUrl:l},o.createElement(fe.H,null))},he=de()({loader:function(){return n.e(285).then(n.bind(n,41778))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[41778]},loading:function(e){var t=e.children;return o.createElement(o.Fragment,null,t)},render:(0,pe.X)("SpeechifyWidget")}),be=o.forwardRef((function(e,t){var n=e.postId,r=e.postBodyRef,l=e.isLockedPreviewOnly,i=(0,a.R)().value,s=(0,me.z)({name:"enable_members_only_audio",placeholder:!1}),c=!(null==i||!i.membership),d=(0,ue.u5)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,u=(0,o.useState)(!0),m=(0,se.A)(u,2),p=m[0],f=m[1];o.useEffect((function(){return f(!0)}),[d]);var g=!c&&(l||s);return o.createElement(D.a,{display:"inline-flex",alignItems:"flex-start",boxSizing:"border-box"},o.createElement(D.a,{flexGrow:"1"},o.createElement(ne.P,{size:"full"},o.createElement(D.a,{ref:t,display:"flex"},g?s?o.createElement(Ve,{postId:n}):null:p?o.createElement(fe.m,{onClick:function(){if(p){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",f(!1)}}}):o.createElement(he,{postId:n,postBodyRef:r},o.createElement(fe.H,{isPlaying:!0}))))))})),Ee=function(e){var t,n,r=e.post,l=e.isLockedPreviewOnly,a=e.postBodyRef,i=null!==(t=r.wordCount)&&void 0!==t?t:0,s=null!==(n=r.detectedLanguage)&&void 0!==n?n:"",c=r.isPublished;return!c||c&&"en"===s&&i>20?o.createElement(be,{postId:r.id,postBodyRef:a,isLockedPreviewOnly:l}):null},ve=n(26311),xe=n(87039),we=n(85050),ye=n(52705),ke=n(36469),Ae=n(88474),Se=n(29977),Ie=n(5562),Te=n(54654),Ce=n(45993),Re=n(27049),Le=n(46963),Be=function(e){var t=e.author,n=e.post,r=e.showFollowSubscribeButton,l=(0,Le.U)(),i=(0,u.f)(t),s=(0,Ae.E)(t),c=l===Re.i.xs,d=(0,a.R)().value,p=d&&d.id===t.id;if(null==t||!t.name)return null;var f=r?"M":"L";return o.createElement(D.a,{display:"flex",alignItems:"center",marginBottom:"2px"},o.createElement(D.a,{display:"flex",flexWrap:"nowrap",alignItems:"center"},o.createElement(D.a,{display:"flex",alignItems:"center"},c?o.createElement(j.kZ,{color:"DARKER",scale:f},o.createElement(m.N,{linkStyle:"SUBTLE",inline:!0,href:i,"data-testid":"authorName"},t.name)):o.createElement(H.R,{placement:"bottom",targetDistance:Se.f,mouseLeaveDelay:100,mouseEnterDelay:W.A,noArrow:!0,popoverRenderFn:function(){return o.createElement(Ce.J,{user:t})}},o.createElement(j.kZ,{color:"DARKER",scale:f,tag:"span"},o.createElement(m.N,{linkStyle:"SUBTLE",inline:!0,href:i,"data-testid":"authorName"},t.name)))),s&&o.createElement(D.a,{marginLeft:"2px",marginTop:"1px"},o.createElement(ke.b,{size:"S"})),!p&&o.createElement(o.Fragment,null,r?o.createElement(o.Fragment,null,o.createElement(D.a,{width:"12px",display:"inline-block"}),o.createElement(ye.N,{user:t,post:n,susiEntry:"follow_post_header",scale:"S",showSubscribeTooltip:!0})):o.createElement(o.Fragment,null,o.createElement(Ie.d,{color:"DARKER",display:"inline",margin:"0 8px"}),o.createElement(j.kZ,{color:"DARKER",scale:"L"},o.createElement(Te.P,{user:t,post:n,susiEntry:"post_header",isLinkStyle:!0}))))))},Pe=n(43002),Oe=n(66356),Ne=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Me=function(e){var t=e.collection,n=e.marginLeft,r=(0,c.l)();return t?o.createElement(D.a,{marginLeft:n,display:"inline-block"},o.createElement("strong",{className:r(Ne)},t.name)):null},De=n(86329);!function(e){e.CollectionPendingAsEditorAndAuthor="CollectionPendingAsEditorAndAuthor",e.CollectionPendingKnown="CollectionPendingKnown",e.CollectionPending="CollectionPending",e.CollectionUnsubmitted="CollectionUnsubmitted",e.Normal="Normal"}(r||(r={}));var Fe=function(e){var t=e.post,n=_e(t);if(!t||!n)return null;var l=t.pendingCollection,a=o.createElement(Me,{collection:l,marginLeft:"4px"});switch(n){case r.CollectionPendingAsEditorAndAuthor:return o.createElement(o.Fragment,null,"Draft in",a);case r.CollectionPendingKnown:return o.createElement(o.Fragment,null,"Draft submitted to",a);case r.CollectionPending:return o.createElement(o.Fragment,null,"Submitted draft");case r.CollectionUnsubmitted:return o.createElement(o.Fragment,null,"Unsubmitted draft");case r.Normal:return o.createElement(o.Fragment,null,"Draft")}},_e=function(e){var t,n=(0,a.R)().value,o=null==e?void 0:e.pendingCollection,l=null==e||null===(t=e.creator)||void 0===t?void 0:t.id,i=!!n&&!(null==o||!o.creator)&&o.creator.id===n.id,s=(0,De.J)(null==o?void 0:o.id).viewerEdge,c=null==s?void 0:s.isEditor,d=i||c,u=d||!!n&&n.id===l,m=u&&o;return!e||e.isPublished?null:u&&"PENDING"===e.statusForCollection?m?d&&n&&n.id===l?r.CollectionPendingAsEditorAndAuthor:r.CollectionPendingKnown:r.CollectionPending:"NOT_YET_SUBMITTED"===e.statusForCollection?r.CollectionUnsubmitted:r.Normal},Ue=n(59393),je=function(e){var t=e.post,n=e.label,r=e.linkToCollection,l=function(e){return"APPROVED"===e.statusForCollection&&e.isPublished}(t),a=(0,Ue.Z)({name:"detail",scale:"M",color:"LIGHTER"}),i=(0,c.l)();return l?o.createElement("div",{className:i([a,{display:"flex",whiteSpace:"pre-wrap"}])},o.createElement(D.a,{flexShrink:"0",tag:"span",marginRight:"4px"},n),r):null},ze=function(e){var t=e.post,n=e.label,r=e.linkToCollection;return o.createElement(D.a,{display:"flex",marginBottom:{xs:"2px",sm:"2px",md:void 0,lg:void 0,xl:void 0}},o.createElement(je,{post:t,label:n,linkToCollection:r}),o.createElement(we.V,{md:!0,lg:!0,xl:!0},o.createElement(Ie.d,{display:"inline",margin:"0 8px"})))},He=n(42136);function We(e){var t=e.publishedAt,n=e.timeToRead,r=e.post;return o.createElement(j.kZ,{color:"LIGHTER",scale:"M",tag:"span"},o.createElement(He.z,{middotPadding:"8px",flexGrow:"1",display:"flex"},n?o.createElement("span",{"data-testid":"storyReadTime"},n):null,t?o.createElement(Oe.c,{timestamp:t,testId:"storyPublishDate"}):o.createElement(Fe,{post:r})))}var Ze=function(e){var t=e.publishedAt,n=e.timeToRead,r=e.post,l=(0,p.au)(),a=r.collection;return o.createElement(D.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},!!a&&r.isNewsletter&&o.createElement(D.a,{display:"flex",alignItems:"center"},o.createElement(je,{post:r,label:"Sent as a",linkToCollection:o.createElement(m.N,{inline:!0,href:l("ShowCollectionNewsletterLandingPage",{collectionSlug:a.slug||""}),linkStyle:"SUBTLE"},o.createElement(j.kZ,{scale:"M",color:"DARKER",tag:"span"},"Newsletter"))}),o.createElement(Ie.d,{display:"inline",margin:"0 8px"})),o.createElement(We,{publishedAt:t,timeToRead:n,post:r}))},Ge=function(e){var t=e.publishedAt,n=e.timeToRead,r=e.post,l=(0,p.au)(),a=r.collection;return o.createElement(D.a,{display:"flex",alignItems:"flex-start",flexWrap:"wrap",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0}},!!a&&o.createElement(ze,{post:r,label:"Published in",linkToCollection:o.createElement(Pe.w,{collection:a,clamp:1,testId:"publicationName"})}),!!a&&r.isNewsletter&&o.createElement(ze,{post:r,label:"Sent as a",linkToCollection:o.createElement(m.N,{inline:!0,href:l("ShowCollectionNewsletterLandingPage",{collectionSlug:a.slug||""}),linkStyle:"SUBTLE"},o.createElement(j.kZ,{scale:"M",color:"DARKER"},"Newsletter"))}),o.createElement(We,{publishedAt:t,timeToRead:n,post:r}))},Ke=n(96783),Ye=n(23406),Qe=n(68120),Je=function(e){var t,n=e.avatars,r=void 0===n?null:n,l=e.publishedAt,a=e.timeToRead,i=e.post,s=e.publisher,c=e.postBodyRef,d=e.isLockedPreviewOnly,u=e.showFollowSubscribeButton,m=(0,o.useContext)(Ye.u).openSidebar;return o.createElement(D.a,{width:"100%",speechifyIgnore:!0},o.createElement(x.Ne,{source:{dimension:"byline"},extendSource:!0},u?o.createElement(D.a,{display:"flex",alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"},flexDirection:{xs:"column-reverse",sm:"column-reverse",md:"row",lg:"row",xl:"row"},gap:"12px"},o.createElement(D.a,{display:"flex",alignItems:"center",gap:"12px"},r,o.createElement(j.kZ,{color:"DARKER",scale:"M",tag:"span"},o.createElement(Be,{author:s,post:i,showFollowSubscribeButton:u}))),o.createElement(Ze,{publishedAt:l,timeToRead:a,post:i})):o.createElement(xe.K,{avatar:r,title:o.createElement(Be,{author:s,post:i}),description:o.createElement(Ge,{publishedAt:l,timeToRead:a,post:i}),leftMargin:"12px",alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"}})),o.createElement(x.Ne,{source:{dimension:"header_actions"},extendSource:!0},o.createElement(Qe.Q,{leftButtons:o.createElement(o.Fragment,null,o.createElement(D.a,{width:"74px"},o.createElement(ie.W,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S",testId:"headerClapButton"})),o.createElement(ve._,{trackingData:{postId:i.id},responsesCount:null===(t=i.postResponses)||void 0===t?void 0:t.count,allowResponses:i.allowResponses,isLimitedState:i.isLimitedState,isPublished:i.isPublished,handleClick:m,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},responsesCountScale:"S",testId:"headerResponseButton"})),rightButtons:o.createElement(o.Fragment,null,o.createElement(we.V,{md:!0,lg:!0,xl:!0},o.createElement(Ke.T,{post:i,susiEntry:"bookmark_footer",testId:"headerBookmarkButton"})),o.createElement(Ee,{postBodyRef:c,isLockedPreviewOnly:d,post:i}),o.createElement(ae.b,{post:i,source:"post_actions_header",isResponsive:!0,testId:"headerSocialShareButton"}),o.createElement(le.G,{post:i,showAddToList:{xs:!0,sm:!0,md:!1,lg:!1,xl:!1},isResponsive:!0,testId:"headerStoryOptionsButton",showHideHighlights:!0}))})))},Xe=function(e){var t=e.insertBetweenImageAndTitle,n=e.post,r=function(e){var t,n=e.post,r=e.postViewerEdgeLoading,l=(0,P.w)(),i=(0,d.WZ)();(0,o.useEffect)((function(){l((0,B.QT)(!1))}),[]);var s=(0,a.R)(),c=s.loading,u=s.error,m=s.value;if(u||c)return!1;if(i)return!(!n.isLocked||r||null!=m&&m.membership&&!n.content.validatedShareKey&&i.startsWith("v2/"));var p=!(null==m||!m.id||null===(t=n.creator)||void 0===t||!t.id||m.id!==n.creator.id);return!(null!=m&&m.membership)&&!p&&!n.content.validatedShareKey&&n.isLocked&&!n.content.isLockedPreviewOnly}({post:n,postViewerEdgeLoading:e.postViewerEdgeLoading});return o.createElement(o.Fragment,null,o.createElement(D.a,{marginTop:r&&!t?{xs:"8px",sm:"8px",md:"24px",lg:"24px",xl:"24px"}:"32px"}),r&&o.createElement(D.a,{display:"flex",justifyContent:"center"},o.createElement(D.a,{width:"100%",minWidth:"0",maxWidth:"728px",marginBottom:"24px",marginRight:t?void 0:"8px",marginLeft:t?void 0:"8px"},o.createElement(L,{post:n}))))},$e=function(e){var t=e.post,n=e.postBodyRef,r=e.showFollowSubscribeButton,a=null==t?void 0:t.creator,i=null==t?void 0:t.collection;return a?o.createElement(l.B,{name:"byline",type:"byline",offset:{left:-600}},o.createElement(D.a,{display:"flex",justifyContent:"space-between",speechifyIgnore:!0},o.createElement(Je,{avatars:o.createElement(ee.h,{author:a,authorSize:r?32:void 0,collection:r?null:i,withAuthorTooltip:!0,authorTestId:"authorPhoto",collectionTestId:"publicationPhoto"}),publishedAt:t.firstPublishedAt,publisher:a,timeToRead:!t.isShortform&&t.readingTime?"".concat((0,re.M8)(t.readingTime)," min read"):void 0,post:t,postBodyRef:n,isLockedPreviewOnly:!!t.content.isLockedPreviewOnly,showFollowSubscribeButton:r}))):null};function qe(e,t){return"".concat(t,"_").concat(e[t]?e[t].length:0)}function et(e,t,n,r,o){e[t]||(e[t]=[]),e[t].push({order:n,component:r,insertType:o})}function tt(e){var t=e.post,n=e.hasTitle;return o.createElement(D.a,{marginBottom:n?"24px":"0px",display:"flex",gap:"8px"},o.createElement($,{post:t}),o.createElement(Y,{post:t}))}function nt(e){var t=e.children;return e.includeMaxWidth?o.createElement(ne.P,{size:"app"},t):o.createElement(o.Fragment,null,t)}function rt(e,t,n,r){return function(l){var a,i,s,c=e.isLocked,d=e.isFeaturedInPublishedPublication,u=n.kickerIndex||n.titleIndex,m=n.bannerImageIndex,p="number"==typeof n.titleIndex,f="number"==typeof m&&p&&!!u&&m<u,g=f&&null!==(a=null===(i=t[u])||void 0===i?void 0:i.name)&&void 0!==a?a:"first";return c?s=o.createElement(D.a,{key:"meter",speechifyIgnore:!0},o.createElement(Xe,{insertBetweenImageAndTitle:f,post:e,postViewerEdgeLoading:r}),o.createElement(nt,{includeMaxWidth:!f},o.createElement(tt,{post:e,hasTitle:p}))):d&&(s=o.createElement(nt,{includeMaxWidth:!f},o.createElement(D.a,{marginTop:"32px"},o.createElement(tt,{post:e,hasTitle:p})))),s&&et(l,g,"before",s,"METER"),l}}function ot(e,t,n,r,l){return function(a){var i="number"==typeof n.titleIndex,s=n.subtitleIndex||n.titleIndex||0,c=t[s]&&t[s].name;if(c&&0===s&&!i){var d=o.createElement(D.a,{marginTop:"32px",speechifyIgnore:!0},o.createElement($e,{post:e,postBodyRef:r,key:"insert_postBylineGroupComponent_".concat(qe(a,"first")),showFollowSubscribeButton:l}));et(a,"first","before",o.createElement(ne.P,{size:"app",key:"insert_MaxWidth_PostBylineGroupComponent_".concat(qe(a,"first"))},d),"BYLINE")}else c&&et(a,c,"after",o.createElement($e,{post:e,postBodyRef:r,key:"insert_PostBylineGroupComponent_".concat(qe(a,c)),showFollowSubscribeButton:l}),"BYLINE");return a}}function lt(e){var t,n,r=e.post,o=e.postBodyRef,l=e.postViewerEdgeLoading,a=e.showFollowSubscribeButton,i=r&&r.content&&r.content.bodyModel&&r.content.bodyModel.paragraphs||void 0,s=(null==r||null===(t=r.content)||void 0===t||null===(n=t.bodyModel)||void 0===n?void 0:n.sections)||[],c=(0,oe.zH)(s,0,null==i?void 0:i.length),d=null==i?void 0:i.filter((function(e,t){return t<c}));if(i){var u=(0,te.z)(d);return[rt(r,i,u,l),ot(r,i,u,o,a)].reduce((function(e,t){return t(e)}),{})}}},61221:(e,t,n)=>{n.d(t,{m:()=>h,H:()=>V});var r,o=n(80296),l=n(96540),a=n(32996),i=n(20036),s=n(49287),c=n(50684);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}const u=function(e){return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12m7.25-3a.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-.5a.5.5 0 0 1-.5-.5zm4.5-.5a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h.5a.5.5 0 0 0 .5-.5V9a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})))};var m;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}const f=function(e){return l.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),m||(m=l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832",clipRule:"evenodd"})))};var g=n(60603),V=function(e){var t=e.onClick,n=e.isPlaying,r=n?"Pause":"Listen";return l.createElement(i.u,{icon:n?l.createElement(u,null):l.createElement(f,null),onClick:t,text:r,tooltipText:r,ariaLabel:r,testId:"audioPlayButton"})},h=function(e){var t=e.onClick,n=(0,c.MW)(),r=(0,s.PJ)(n||"").susiEntry,i=(0,g.e)("post_audio_button"===r),d=(0,o.A)(i,3),u=d[0],m=d[2];return l.createElement(a.A,{isVisible:u,message:"You can now listen to stories",dismissText:"Got it",dismiss:m,targetDistance:10},l.createElement(V,{onClick:t}))}},68120:(e,t,n)=>{n.d(t,{Q:()=>u});var r=n(96540),o=function(){return{overflowX:"scroll","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"}},l=n(85050),a=n(44402),i={display:"flex",alignItems:"center","> *":{marginRight:{xs:"8px",sm:"8px",md:"24px",lg:"24px",xl:"24px"},flexShrink:0},"> :last-child":{marginRight:{xs:"24px",sm:"8px",md:0,lg:0,xl:0}}},s=function(e){return"solid 1px ".concat(e.colorTokens.background.neutral.secondary.base)},c=function(e){return{xs:void 0,sm:void 0,md:s(e),lg:s(e),xl:s(e)}},d=function(e){return function(t){return{display:"flex",justifyContent:"space-between",borderTop:c(t),borderBottom:c(t),margin:{xs:"".concat(null!=e?e:"24px"," -24px 0"),sm:"".concat(null!=e?e:"24px"," 0 0"),md:"".concat(null!=e?e:"32px"," 0 0"),lg:"".concat(null!=e?e:"32px"," 0 0"),xl:"".concat(null!=e?e:"32px"," 0 0")},padding:{xs:"0",sm:"0",md:"3px 8px",lg:"3px 8px",xl:"3px 8px"}}}},u=function(e){var t=e.leftButtons,n=e.rightButtons,s=e.marginTop,c=(0,a.l)();return r.createElement("div",{className:c(d(s))},r.createElement(l.V,{md:!0,lg:!0,xl:!0,displayValue:"flex",alignItems:"center"},t),r.createElement("div",{className:c([i,o])},r.createElement(l.V,{xs:!0,width:"16px"}),n))}},54387:(e,t,n)=>{n.d(t,{L:()=>w});var r,o=n(64467),l=n(96540),a=n(86527),i=n(5600),s=n(36557),c=n(87509),d=n(49287),u=n(44402),m=n(81878);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}const f=function(e){return l.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),r||(r=l.createElement("path",{fillRule:"evenodd",d:"M18.472 20.272c-1.194 0-2.335-.355-3.39-1.052a8 8 0 0 1-.676-.499 8.7 8.7 0 0 1-2.284.307C7.638 19.028 4 15.668 4 11.54c.001-4.148 3.64-7.508 8.123-7.508 4.475 0 8.118 3.36 8.118 7.49 0 1.977-.816 3.826-2.307 5.231.022.163.058.336.114.528.184.662.515 1.325.985 1.958.144.202.165.461.055.672a.66.66 0 0 1-.588.365h-.029z",clipRule:"evenodd"})))};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){return"LIGHTER"===t?e.colorTokens.foreground.neutral.primary.hover:e.colorTokens.foreground.neutral.secondary.base},b=function(e,t){return function(n){return{cursor:t?"not-allowed":"pointer",border:0,opacity:1,padding:"4px 0",display:"flex",alignItems:"center",fill:"LIGHTER"===e?n.colorTokens.foreground.neutral.secondary.base:n.baseColor.fill.light,":hover":t?void 0:{fill:h(n,e),"& p":{color:h(n,e)}}}}},E=function(e){return{cursor:"not-allowed",fill:e.colorTokens.foreground.neutral.secondary.base,opacity:.25}},v=function(e){var t=e.disabled,n=e.handleClick,r=e.href,o=e.children,i=e.responsesCountColor,s=e.testId,c=(0,u.l)();return r?l.createElement(a.N,{onClick:n,href:r,rules:b(i,t),"aria-label":"responses",disabled:t,"data-testid":s},o):l.createElement("button",{onClick:n,className:c(b(i,t)),"aria-label":"responses",disabled:t,"data-testid":s},o)},x=function(e){var t=e.disabled,n=e.iconStylesOverride,r=(0,u.l)();return t?l.createElement(f,{className:r([E])}):l.createElement(m.A,{className:r([n])})},w=function(e){var t=e.disabled,n=e.disabledTooltipText,r=void 0===n?"":n,o=e.responsesCount,a=e.handleClick,m=e.trackingData,p=e.iconStylesOverride,f=e.countStylesOverride,g=e.responsesCountColor,h=void 0===g?"LIGHTER":g,b=e.responsesCountScale,E=void 0===b?"M":b,w=e.href,y=(0,u.l)(),k=(0,c.$L)(),A=(0,d.jI)(),S=!t&&o,I=(0,l.useCallback)((function(e){null==a||a(e),k.event("responses.viewAllClicked",V(V({},m),{},{source:A}))}),[k,a,m,A]);return l.createElement(i.G,{tooltipText:t?r:"Respond",targetDistance:15},l.createElement(v,{handleClick:t?void 0:I,responsesCountColor:h,disabled:t,href:w},l.createElement(x,{disabled:t,iconStylesOverride:p}),!!S&&l.createElement(s.kZ,{scale:E,color:h},l.createElement("span",{className:"pw-responses-count ".concat(y([f]))},o))))}},26311:(e,t,n)=>{n.d(t,{_:()=>a});var r=n(58168),o=n(96540),l=n(54387),a=function(e){var t=!e.allowResponses||e.isLimitedState||!e.isPublished,n=(0,o.useMemo)((function(){return e.isPublished?e.allowResponses?e.isLimitedState?"This feature is temporarily disabled":void 0:"Responses hidden":"You cannot respond to a draft"}),[e.isPublished,e.allowResponses,e.isLimitedState]);return o.createElement(l.L,(0,r.A)({},e,{disabled:t,disabledTooltipText:n}))}},79197:(e,t,n)=>{var r;n.d(t,{H:()=>r}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(r||(r={}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/144.64f3942b.chunk.js.map