"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[7753],{8811:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(96540),i=n(46445),o=n(87509),l=n(49287),a=n(75636),s=function(e){var t=e.newsletterV3,n=e.name,s=e.isVisible,c=e.hide,u=e.onConfirm,d=(0,a.z)({name:"enable_follow_subscribe_story_page_web",placeholder:!1}),m=(0,o.$L)(),b=(0,l.Fo)();return r.createElement(i.T,{onConfirm:function(){var e;m.event("newsletterV3.subscribeConsentConfirmed",{newsletterV3Id:t.id,authorId:null===(e=t.user)||void 0===e?void 0:e.id,source:b}),u()},isVisible:s,hide:c,titleText:"Confirm your subscription to ".concat(n),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,isDestructiveAction:!1},d?"When you subscribe to a publication, your email address will be shared with them so they can stay in contact with you outside of Medium. Opt out any time by unsubscribing in Settings.":"When you subscribe to a writer or publication, your email address will be shared with them so they can stay in contact with you outside of Medium. Opt out any time by unsubscribing in Settings.")}},30572:(e,t,n)=>{n.d(t,{a:()=>b});var r=n(64467),i=n(96540),o=n(71468),l=n(99731),a=n(86527),s=n(87509),c=n(49287),u=n(46879);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,o.Ng)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.buttonSize,r=e.buttonStyle,o=e.children,d=e.eventData,b=void 0===d?{}:d,v=e.inline,p=void 0!==v&&v,h=e.isButton,f=void 0!==h&&h,w=e.linkStyle,E=void 0===w?"SUBTLE":w,g=e.post,y=e.redirectUrl,S=e.width,O=e.id,V=e.onClick,x=y||(0,u.Icz)(t),T=(0,s.$L)(),k=(0,c.Fo)(),C=function(){var e,t;T.event("upsell.clicked",m(m({},b),{},{dimension:null==k?void 0:k.dimension,locationId:null==k?void 0:k.dimension,postId:null==g?void 0:g.id,authorId:null==g||null===(e=g.creator)||void 0===e?void 0:e.id,sequenceId:(null==g||null===(t=g.sequence)||void 0===t?void 0:t.sequenceId)||""}))};return f?i.createElement(l.$n,{buttonStyle:r,href:x,onClick:function(){null==V||V(),C()},size:n,width:S,id:O},o):i.createElement(a.N,{onClick:function(){null==V||V(),C()},href:x,linkStyle:E,inline:p,id:O},o)}))},87753:(e,t,n)=>{n.d(t,{m:()=>K});var r,i,o=n(80296),l=n(96540),a=n(54654),s=n(48088),c=n(78493),u=n(20663),d=n(27721),m=n(43634),b=n(30572),v=n(99731),p=n(52290),h=n(24960),f=n(41299),w=n(5600),E=n(36557),g=n(87509),y=n(49287),S=n(44402),O=n(20239),V=n(66305),x=n(42976),T=n(91830),k=n(50684),C=n(39160);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(null,arguments)}const R=function(e){return l.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:23,height:23,fill:"none",viewBox:"0 0 23 23"},e),r||(r=l.createElement("path",{d:"M14 7.286 15.6 9 18 6M11.622 7.036H7a1 1 0 0 0-1 1v7.135a1 1 0 0 0 1 1h8.54a1 1 0 0 0 1-1v-3.216"})),i||(i=l.createElement("path",{d:"m6 8.441 5.27 3.865 1.406-1.054.702-.527"})))};var _,j;function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(null,arguments)}const D=function(e){return l.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:38,height:38,fill:"none",viewBox:"0 0 38 38"},e),_||(_=l.createElement("path",{d:"m24 13 2 2 3-3.5M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"})),j||(j=l.createElement("path",{d:"M11.5 14.5 19 20l4-3"})))};var A,F;function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(null,arguments)}const M=function(e){return l.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",width:23,height:23,fill:"none",viewBox:"0 0 23 23"},e),A||(A=l.createElement("path",{d:"M14.581 6.887H18.5M16.392 8.995V5.076M11.622 7.036H7a1 1 0 0 0-1 1v7.135a1 1 0 0 0 1 1h8.54a1 1 0 0 0 1-1v-3.216"})),F||(F=l.createElement("path",{d:"m6 8.441 5.27 3.865 2.811-2.108"})))};var N,U,L,W;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}const G=function(e){return l.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:38,height:38,fill:"none",viewBox:"0 0 38 38"},e),N||(N=l.createElement("rect",{width:.5,height:6.5,x:26.25,y:9.25,rx:.25})),U||(U=l.createElement("rect",{width:.5,height:6.5,x:29.75,y:12.25,rx:.25,transform:"rotate(90 29.75 12.25)"})),L||(L=l.createElement("path",{d:"M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"})),W||(W=l.createElement("path",{d:"M11.5 14.5 19 20l4-3"})))};var H=n(60603),$=n(79959),Y=n(46879),q=n(8811),J=n(75636),Z=function(e){var t=e.user,n=e.showPostFollowSubscribeTooltip,r=void 0!==n&&n,i=e.hidePostFollowSubscribeTooltip,a=e.isVisible,P=void 0===a||a,_=e.isCompact,j=void 0!==_&&_,I=e.buttonStyleFn,A=void 0===I?function(e){return e?"OBVIOUS":"STRONG"}:I,F=(0,J.z)({name:"enable_follow_subscribe_story_page_web",placeholder:!1}),B=l.useRef(null),N=(0,S.l)(),U=(0,O.D)(),L=(0,d.R)().value,W=(0,H.e)(!1),z=(0,o.A)(W,3),Z=z[0],K=z[1],X=z[2],Q=t.newsletterV3,ee=(0,T.zF)(),te=(0,g.$L)(),ne=(0,y.jI)(),re=(0,y.W9)(),ie=(0,k.MW)(),oe=(0,s.h)({newsletterV3:Q,creator:t,newsletterName:t.name||void 0}),le=oe.isSubscribed,ae=oe.hasError,se=oe.loading,ce=oe.setSubscribe,ue=(0,C.d4)((function(e){return e.config.authDomain})),de=(0,$.ST)((0,Y.Qok)(ue),{subscribeToUserId:t.id,source:re}),me=!(null==L||!L.membership),be=l.useState(!1),ve=(0,o.A)(be,2),pe=ve[0],he=ve[1],fe=l.useState(!1),we=(0,o.A)(fe,2),Ee=we[0],ge=we[1],ye=(0,y.PJ)(ie||"").susiEntry,Se=void 0===ye?"":ye,Oe=["newsletter_v3_promo","writer_subscription_landing"].includes(Se),Ve=["newsletter_v3_promo"].includes(Se),xe=(0,c.XF)({membershipType:c.yV.Monthly}),Te=!1,ke=function(){var e;!Te&&P&&Ce()&&(te.event("newsletterV3.subscribePresented",{newsletterV3Id:(null===(e=t.newsletterV3)||void 0===e?void 0:e.id)||"",source:ne}),Te=!0)},Ce=function(){var e;if(!B.current)return!1;var t=null===(e=B.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};l.useEffect((function(){return ke(),window&&V.R5.on("scroll",ke),function(){V.R5.off("scroll",ke)}}),[]),l.useEffect((function(){ke()}),[P]),l.useEffect((function(){ie&&Oe&&le&&(!Ve&&re===Se||Ve)&&ee({duration:"NEXTPAGE",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:t.name,newsletterType:x.$J.NEWSLETTER_TYPE_AUTHOR,unsubscribeFn:function(){return ce(!1)}}})}),[ie,le]),l.useEffect((function(){if(le&&Ee&&Q){var e=!me&&!!t.isPartnerProgramEnrolled;e&&te.event("newsletterV3.postSubscribeMembershipUpsellViewed",{newsletterV3Id:Q.id,source:ne}),he(e),ge(!1)}}),[le,Ee,Q]);var Pe=(0,u.r)().isWorkingPreview;if(ae||t.viewerEdge.isUser&&!Pe)return null;var Re,_e=A(!!le),je=function(e,t){return function(n){return{stroke:t?n.colorTokens.background.neutral.secondary.base:e,height:j?"23px":"36px",width:j?"23px":"36px"}}},Ie=N(je("OBVIOUS"===_e?U.colorTokens.background.accent.primary.base:U.baseColor.fill.dark,se)),De=N(je("STRONG"===_e?U.colorTokens.background.neutral.primary.base:U.backgroundColor,se));Re=le?j?l.createElement(R,{className:Ie}):l.createElement(D,{className:Ie}):j?l.createElement(M,{className:De}):l.createElement(G,{className:De});var Ae=l.createElement(v.$n,{loading:se,buttonStyle:_e,onClick:function(){if(ge(!le),L){var e=Q.type===x.$J.NEWSLETTER_TYPE_AUTHOR;if(le)ce(!1);else if(e&&F)ce(!0,!1);else if(L&&L.allowEmailAddressSharingEditorWriter)ce(!0,!1);else{var n;te.event("newsletterV3.subscribeConsentViewed",{newsletterV3Id:null===(n=t.newsletterV3)||void 0===n?void 0:n.id,authorId:t.id,source:re}),K()}}else{var r;null!==(r=t.newsletterV3)&&void 0!==r&&r.id?te.event("newsletterV3.subscribeClicked",{newsletterV3Id:t.newsletterV3.id,source:ne}):te.event("user.LOSubscribeClicked",{targetUserId:t.id,source:ne})}},padding:"0","aria-label":"Subscribe"},Re),Fe=function(){return l.createElement(p.a,{padding:"14px 12px 20px",maxWidth:"220px"},l.createElement(E.kZ,{tag:"div",scale:"S",color:"DARKER"},l.createElement("strong",null,"You're subscribed to ",t.name,". Become a member for more.")," Get full access to every story on Medium for ",xe," a month."),l.createElement(p.a,{paddingTop:"8px"},l.createElement(b.a,{isButton:!0,buttonStyle:"STRONG",buttonSize:"SMALL",redirectUrl:de,width:"150px",onClick:function(){te.event("newsletterV3.postSubscribeMembershipUpsellClicked",{newsletterV3Id:Q.id,source:ne})}},l.createElement(p.a,{textAlign:"center"},l.createElement(E.kZ,{scale:"S",color:"WHITE"},"Become a member")))))},Be=function(){return l.createElement(p.a,{padding:"10px 12px",maxWidth:"166px"},l.createElement(E.kZ,{tag:"div",scale:"S",color:"DARKER"},"Get an email whenever ",t.name," publishes."))},Me=function(e){var t=e.children;return l.createElement(h.A,{isVisible:!!i&&!le,hide:i,placement:"bottom",popoverRenderFn:Be,targetDistance:10,role:"tooltip"},t)},Ne=function(e){var t=e.children;return l.createElement(h.A,{isVisible:!se&&pe,hide:function(){return he(!1)},placement:"bottom",popoverRenderFn:Fe,targetDistance:10,role:"tooltip"},t)},Ue=function(e){var t=e.children;return l.createElement(f.R,{isVisible:!se&&!le,hideOnClick:!0,noPortal:!0,mouseEnterDelay:500,mouseLeaveDelay:0,placement:"bottom",popoverRenderFn:Be,role:"tooltip",targetDistance:10},t)},Le=function(e){var t=e.children;return r&&!le?l.createElement(Me,null,t):pe?l.createElement(Ne,null,t):le?l.createElement(w.G,{tooltipText:"Subscribed",targetDistance:10},t):l.createElement(Ue,null,t)};return l.createElement("div",{ref:B},l.createElement(Le,null,l.createElement(p.a,null,L&&l.createElement(q.H,{newsletterV3:Q,name:t.name||"",isVisible:Z,hide:X,onConfirm:function(){return ce(!0,!0)}}),L?Ae:l.createElement(m.r,{operation:"register",newsletterV3:Q,user:t,actionUrl:Q?(0,Y.gj9)(Q.id):(0,Y.Yrp)(t.id),susiEntry:"subscribe_user"},Ae))))},K=function(e){var t=e.creator,n=e.followButtonSize,r=void 0===n?"REGULAR":n,i=e.shouldHideTooltip,s=void 0!==i&&i,c=e.post,u=e.susiEntry,d=e.isVisible,m=e.width,b=e.isSubscribeCompact,v=void 0!==b&&b,h=e.buttonStyleFn,f=l.useState(!1),w=(0,o.A)(f,2),E=w[0],g=w[1];return l.createElement(l.Fragment,null,l.createElement(a.P,{buttonSize:r,onClick:function(){t.viewerEdge.isFollowing||g(!0)},post:c,user:t,susiEntry:u,width:m,buttonStyleFn:h}),l.createElement(p.a,{marginLeft:v?"4px":"8px"},l.createElement(Z,{user:t,showPostFollowSubscribeTooltip:E&&!s,hidePostFollowSubscribeTooltip:function(){return g(!1)},isVisible:d,isCompact:v,buttonStyleFn:h})))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7753.614a20a3.chunk.js.map